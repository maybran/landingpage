---
import Layout from '../../layouts/Layout.astro'
import { getLaunchBy, getLatestLaunches } from '../../services/spacex'

const { id } = Astro.params

let launch
if(id) {
    launch = await getLaunchBy({ id })
}

export async function getStaticPaths () {
    
    const launches = await getLatestLaunches()

    return launches.map( launch => ({
        params : { id: launch.id }
    }))
           
}

---
<Layout title=`Lanzamiento ${id}`>
    <article>
        {id}
    </article>
</Layout>
